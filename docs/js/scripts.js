const APP_ID="warjeh",CN={ACTIVE:"active",LEFTY:"lt",RIGHTY:"rt",SELECTED:"selected",SHOW:"show",TRANSLATE:"t"};class I18n{constructor(e,t,{title:s,lightTheme:i,darkTheme:n,systemTheme:a,comingSoon:o,home:r,contact:h,about:l,portfolio:c,blog:m,scanOrClick:d,email:g,telegram:u,whatsapp:f,linkedin:T,portfolioPage:p}){this.code=e,this.direction=t,this.title=s,this.lightTheme=i,this.darkTheme=n,this.systemTheme=a,this.comingSoon=o,this.home=r,this.contact=h,this.about=l,this.portfolio=c,this.blog=m,this.scanOrClick=d,this.email=g,this.telegram=u,this.whatsapp=f,this.linkedin=T,this.portfolioPage=p}}class Translator{constructor(){if(Translator._instance)return Translator._instance;Translator._instance=this,this.translateItem=document.getElementsByClassName(CN.TRANSLATE),this.en=new I18n("en","ltr",{title:"Warjeh",lightTheme:"Light Theme",darkTheme:"Dark Theme",systemTheme:"System Theme",comingSoon:"Coming Soon..",home:"Home",contact:"Contact",about:"About",portfolio:"Portfolio",blog:"Blog",scanOrClick:"* Scan or click the QR code.",email:"Email",telegram:"Telegram",whatsapp:"WhatsApp",linkedin:"LinkedIn",portfolioPage:'In the near future, I will be showcasing a selection of my projects here as part of my portfolio.<br />In the meantime, you’re invited to explore a preview of this site, built using Flutter, available via <a target="_blank" href="https://flutter.warjeh.com">this link</a>.'}),this.fa=new I18n("fa","rtl",{title:"وارژه",lightTheme:"حالت روشن",darkTheme:"حالت تیره",systemTheme:"حالت سیستم",comingSoon:"به زودی..",home:"صفحه‌ی اصلی",contact:"تماس",about:"درباره",portfolio:"نمونه کارها",blog:"وبلاگ",scanOrClick:"کد تصویری را اسکن کنید یا بر روی آن کلیک نمایید.",email:"ایمیل",telegram:"تلگرام",whatsapp:"واتس‌اپ",linkedin:"لینکداین",portfolioPage:'به زودی، تعدادی از پروژه‌های انجام شده را به عنوان نمونه کار در این صفحه ملاحظه خواهید نمود. <br />در حال حاضر، پیش نمایشی از این سایت که با استفاده از "فلاتر" پیاده‌سازی شده است، از طریق <a target="_blank" href="https://flutter.warjeh.com">این پیوند</a> در دسترس می‌باشد.'}),this.LEFTY=document.querySelectorAll(`.${CN.LEFTY}`),this.RIGHTY=document.querySelectorAll(`.${CN.RIGHTY}`),this.list=[this.en,this.fa],this.current=this.list[0]}init(){}findTranslationByCode=e=>this.list.find(t=>t.code==e);swapStartAlign(){if("rtl"==this.current.direction){for(let e of this.RIGHTY)e.classList.add(CN.LEFTY),e.classList.remove(CN.RIGHTY);for(let t of this.LEFTY)t.classList.add(CN.RIGHTY),t.classList.remove(CN.LEFTY)}else{for(let s of this.RIGHTY)s.classList.add(CN.RIGHTY),s.classList.remove(CN.LEFTY);for(let i of this.LEFTY)i.classList.add(CN.LEFTY),i.classList.remove(CN.RIGHTY)}}setDirection(){document.firstElementChild.lang=this.current.code,document.firstElementChild.dir!=this.current.direction&&(document.firstElementChild.dir=this.current.direction,this.swapStartAlign())}translate(){for(let e of this.translateItem)e.innerHTML=this.current[`${e.dataset.key}`]}setLanguage(e){if(this.current!=e){let t=this.findTranslationByCode(e);t&&(this.current=t,this.setDirection(),this.translate())}}}class DropDown{constructor(e,t){this.id=e,this.myEvent=new CustomEvent(e),this.button=document.getElementById(e),this.menu=this.button.nextElementSibling,this.button.addEventListener("click",this.onClickButton.bind(this),!1),this.menu.addEventListener("click",this.onClickMenu.bind(this),!1),this.init(t)}init=e=>{this.findNodeByKey(e),this.setSelectedItem()};findNodeByKey(e){let t=this.menu.getElementsByTagName("li");for(let s of t)if(s.dataset.key==e){this.selected=s;break}this.selected||(this.selected=t[0])}dispatchEvent=()=>document.dispatchEvent(this.myEvent);setSelectedItem=()=>this.selected.classList.add(CN.SELECTED);removeSelectedItem=()=>this.selected.classList.remove(CN.SELECTED);hideMenu=e=>{this.button.contains(e.target)||this.menu.classList.remove(CN.SHOW)};toggleMenu=()=>this.menu.classList.toggle(CN.SHOW);onClickButton=()=>this.toggleMenu();findClickedItem=e=>{for(;this.menu.contains(e)&&e.parentNode!==this.menu;)if(!(e=e.parentNode))return;if("LI"===e.tagName)return e};onClickMenu=e=>{if(this.selected.contains(e.target))return;this.removeSelectedItem();let t=e.target;this.selected=this.findClickedItem(t)??t,this.setSelectedItem(),this.dispatchEvent()};get selectedKey(){return this.selected.dataset.key}}function setPage(){window.location.hash||(window.location.hash="#/home");let e=window.location.hash.substring(2),t=document.getElementById("navbar");t.getElementsByClassName(CN.ACTIVE)[0].classList.remove(CN.ACTIVE),t.querySelector(`a[href="#/${e}"]`).classList.add(CN.ACTIVE);let s=document.getElementById("pages");s.querySelector(`.${CN.ACTIVE}`).classList.remove(CN.ACTIVE),s.querySelector(`#${e}`).classList.add(CN.ACTIVE);let i=document.getElementById("coming");switch(e){case"contact":case"portfolio":i.style.display="none",setContactPage();break;default:i.style.display="flex"}}const urls={email:'mailto:warjeh@hotmail.com?subject="A message from warjeh.com"',whatsapp:"https://wa.me/message/HKWYBALZLUZZG1",telegram:"https://t.me/warjeh96",linkedin:"https://www.linkedin.com/in/warjeh"};function clickedQRCode(){let e=qrcode.getElementsByClassName(CN.ACTIVE)[0].classList;e.contains("email")?document.location=urls.email:e.contains("whatsapp")?window.open(urls.whatsapp):e.contains("telegram")?window.open(urls.telegram):e.contains("linkedin")&&window.open(urls.linkedin)}function setContactPage(){let e=document.getElementById("qrcode-bar"),t=e.getElementsByClassName("txt-icon-btn");for(let s of t)s.addEventListener("click",()=>{s.classList.contains(CN.ACTIVE)||(e.getElementsByClassName(CN.ACTIVE)[0].classList.remove(CN.ACTIVE),s.classList.add(CN.ACTIVE),qrcode.getElementsByClassName(CN.ACTIVE)[0].classList.remove(CN.ACTIVE),qrcode.getElementsByClassName(s.id)[0].classList.add(CN.ACTIVE))})}const qrcode=document.getElementById("qrcode");qrcode.addEventListener("click",clickedQRCode);class Base{constructor(e){this.code=e}}class Storage{constructor(){this.key="storage"}save=e=>localStorage.setItem(`${APP_ID}.${this.key}`,e.toString());fetch=()=>localStorage.getItem(`${APP_ID}.${this.key}`)}class Repository extends Storage{constructor(){super(),this.key="setting",this.list=[]}findByCode(e=-1,t=this.list){return -1==e&&(e=this.fetch()),t.find(t=>t.code==e)??t[0]}}class Font extends Base{constructor(e,t,s,i=e.toLowerCase()){super(i),this.name=e,this.localName=t,this.path=s}get fontFamily(){return this.name}get url(){return`url(${this.path})`}}class Fonts extends Repository{constructor(){super(),this.key="fonts"}}class FontsFa extends Fonts{constructor(){super(),this.key="fonts_fa",this.base="./fonts/fa/",this.sahel=new Font("Sahel","ساحل (پیش‌فرض)",`${this.base}Sahel.tff`),this.shabnam=new Font("Shabnam","شبنم",`${this.base}Shabnam.tff`),this.samim=new Font("Samim","صمیم",`${this.base}Samim.tff`),this.vazir=new Font("Vazir","وزیر",`${this.base}Vazir.tff`),this.tahoma=new Font("Tahoma, sans-serif","تاهوما"),this.list=[this.sahel,this.shabnam,this.samim,this.vazir,this.tahoma]}}class FontsEn extends Fonts{constructor(){super(),this.key="fonts_en",this.base="./fonts/en/",this.roboto=new Font("Roboto","Roboto",`${this.base}Roboto.tff`),this.playfairdisplay=new Font("PlayfairDisplay","PlayfairDisplay",`${this.base}playfairDisplay.tff`),this.poppins=new Font("Poppins","Poppins",`${this.base}Poppins.tff`),this.lato=new Font("Lato","Lato",`${this.base}Lato.tff`),this.arial=new Font("Arial, sans-serif","Arial"),this.verdana=new Font("Verdana, sans-serif","Verdana"),this.tahoma=new Font("Tahoma, sans-serif","Tahoma"),this.trebuchet=new Font("Trebuchet MS, sans-serif","Trebuchet MS"),this.timesNewRoman=new Font("Times New Roman, serif","Times New Roman"),this.georgia=new Font("Georgia, serif","Georgia"),this.garamond=new Font("Garamond, serif","Garamond"),this.courierNew=new Font("Courier New, monospace","Courier New"),this.brushScriptMT=new Font("Brush Script MT, cursive","Brush Script MT"),this.list=[this.arial,this.courierNew,this.garamond,this.tahoma,this.timesNewRoman,this.trebuchet,]}}class Language extends Base{constructor(e,t,s,i){super(s),this.name=e,this.localName=t,this.fonts=i}}class Languages extends Repository{constructor(){super(),this.key="lang",this.english=new Language("English","English","en",new FontsEn),this.farsi=new Language("Farsi","فارسی","fa",new FontsFa),this.list=[this.english,this.farsi]}}class Theme extends Base{constructor(e,t){super(e),this.name=t}}class Themes extends Repository{constructor(){super(),this.key="theme",this.systemTheme=new Theme("systemTheme","System Theme"),this.lightTheme=new Theme("lightTheme","Light Theme"),this.darkTheme=new Theme("darkTheme","Dark Theme"),this.list=[this.systemTheme,this.lightTheme,this.darkTheme]}}class Settings{constructor(e,t,s){if(Settings._instance)return Settings._instance;Settings._instance=this,this.fontEvent=new CustomEvent("font-event"),this.themes=t,this.languages=e,this.fonts=e.fonts,this.translator=s,this.init()}init(){this.updateLanguage(-1),this.updateFont(-1),this.updateTheme(-1)}dispatchEvent=e=>document.dispatchEvent(e);createMenuItems=(e,t)=>{let s=document.getElementById(`${e}`).nextElementSibling;s.innerHTML="";let i;for(let n of t)(i=document.createElement("li")).appendChild(document.createTextNode(n.localName)),i.setAttribute("data-key",n.code),i.style.fontFamily=n.fontFamily,s.appendChild(i)};setPageFont(){document.body.style=`font-family: ${this.currentFont.fontFamily}`}updateFont(e){this.currentFont=this.currentLanguage.fonts.findByCode(e,this.currentLanguage.fonts.list),this.currentLanguage.fonts.save(this.currentFont.code),this.createMenuItems("font",this.currentLanguage.fonts.list),this.setPageFont(),this.dispatchEvent(this.fontEvent)}updateLanguage(e){this.currentLanguage=this.languages.findByCode(e),this.languages.save(this.currentLanguage.code),this.updateFont(-1),this.translator.setLanguage(this.currentLanguage.code)}preferredScheme(){return window?.matchMedia?.("(prefers-color-scheme:dark)")?.matches?"dark":"light"}setPageTheme(){let e=document.body;switch(this.currentTheme.code){case this.themes.darkTheme.code:e.classList.remove("light"),e.classList.add("dark");break;case this.themes.lightTheme.code:e.classList.remove("dark"),e.classList.add("light");break;case this.themes.systemTheme.code:default:e.classList.remove(...["light","dark"])}}updateTheme(e){this.currentTheme=this.themes.findByCode(e),this.themes.save(this.currentTheme.code),this.setPageTheme()}get currentLanguageCode(){return this.currentLanguage.code}get currentFontCode(){return this.currentFont.code}get currentThemeCode(){return this.currentTheme.code}}const settings=new Settings(new Languages,new Themes,new Translator),langDD=new DropDown("language",settings.currentLanguageCode),fontDD=new DropDown("font",settings.currentFontCode),themeDD=new DropDown("theme",settings.currentThemeCode);function onclick(e){langDD.hideMenu(e),fontDD.hideMenu(e),themeDD.hideMenu(e)}function onload(){setPage()}document.addEventListener("language",()=>settings.updateLanguage(langDD.selectedKey)),document.addEventListener("font",()=>settings.updateFont(fontDD.selectedKey)),document.addEventListener("font-event",()=>fontDD.init(settings.currentFontCode)),document.addEventListener("theme",()=>settings.updateTheme(themeDD.selectedKey)),window.addEventListener("click",onclick,!0),window.addEventListener("load",onload),window.addEventListener("hashchange",setPage);
